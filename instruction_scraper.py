import requestsimport jsonfrom bs4 import BeautifulSoupimport timeimport pandas as pd start_time = time.time()url_page = [] #to store original url with respect to page numbersfor i in range(1, 12):    url_page.append('https://www.wikihow.com/Category:Featured-Articles?pg={}'.format(str(i)))#print(url_page) url_list = [] #to store target url    for url in url_page:    response = requests.get(url)    html = response.text    soup = BeautifulSoup(html,'html.parser')#print(soup.prettify())    for a in soup.find_all('div', 'responsive_thumb'):        for b in a.find_all('a', href = True):            url_list.append((b['href']))#print(url_list)#print('The number of instructions that needs to be captured: ', len(url_list))def collect_instructions(url):    web_content = []    for b in soup.find_all('script', type = 'application/ld+json'):        #if a == 1:        data = json.loads(b.text)        web_content.append(data)        category = web_content[-1]['itemListElement'][1]['item']['name']    instruction_list = []    for i in range(len(web_content)):        if 'step' in web_content[i]:            for j in web_content[i]['step']:                for num, k in enumerate(dict(j)['itemListElement']):                    instruction_list.append(str(num + 1) + '. '+ k['text'])                return category, instruction_list#exception handlingins_series = []counter = 0for a, url in enumerate(url_list):    #print(a)    instruction_dict = {}    try:        response = requests.get(url)        html = response.text        soup = BeautifulSoup(html,'html.parser')        cat, ins = collect_instructions(url)        #print(cat)        instruction_dict['category'] = cat        instruction_dict['instructions'] = ins        ins_series.append(instruction_dict)    except Exception as e:        #print(e)        counter += 1        passdf = pd.DataFrame(ins_series)df.to_csv('instructions.csv', encoding='utf-8', index = False)print(counter)time_elapsed = time.time()-start_timeprint(time_elapsed)